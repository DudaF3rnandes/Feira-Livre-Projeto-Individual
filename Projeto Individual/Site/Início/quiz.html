<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Feira Livre</title>
    <link rel="stylesheet" href="quiz.css">
</head>
<body>
    <div class="navbar">
        <h2><a href="#">FEIRA LIVRE</a></h2>
        <ul>
            <li><a href="#">INÍCIO</a></li>
            <li><a href="#">SOBRE AS FEIRAS LIVRES</a></li>
            <li><a href="#">PERGUNTAS FREQUENTES</a></li>
        </ul>
    </div>
   <main>
    <div class="content">
        <span class="spnQtd"></span>
        <span class="question"></span>
        <div class="answers"></div>
        <div class="finish"></div>
   </div>
   </main>
</body>
</html>
<script>
     const list [{
        question: "Qual destas frutas é geralmente vendida já cortada e embalada em feiras livres por causa de seu tamanho?",
        answers: [
            { option: "Melancia", correct: true},
            { option: "Morango", correct: false},
            { option: "Ameixa", correct: false},

        ]
    }]

    const question = document.querySelector(".question");
    const answers = document.querySelector(".answers");
    const spnQtd = document.querySelector(".spnQtd");
    const content = document.querySelector(".content");

    let currentIndex = 0
    let questionCorrect = 0
    let questionIncorrect = 0

    function nextQuestion(e) {
        if (e.target.getAttribute("data-correct") === "true") {
            questionCorrect++
        } else {
            questionIncorrect++
        }

        if (currentIndex < question.lenght) {
            currentIndex++
            loadQuestion()
        } else {
            finish()
        }
    }

    function loadQuestion() {
        spnQtd.innerHTML = `${currentIndex + 1}/${question.length}`;
        const item = question[currentIndex];
        answers.innerHTML = '';
        question.innerHTML = item.question;
    
        item.answers.forEach((answers) => {
            const div = document.createElement("div");

            div.innerHTML = `<button class = "answer" data-correct="{answer.correct}">
                ${answer.option}
                </button>`;

                answers.appendChild(div);
            });

            document.querySelectorAll (".answer").forEach((item) => {
                item.addEvenListener ("click", nextQuestion);
            });
            }
        
    

    loadQuestion();
</script>